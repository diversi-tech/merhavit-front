<div class="grid-container">
  <!-- 拽抓 驻专 -->
  <div *ngIf="item" class="grid-item item-1">
    <ng-container *ngIf="previewUrl; else noFile">
      <div *ngIf="isImage">
        <img [src]="previewUrl" [alt]="item?.title || 'Image not found'">
      </div>
      <div *ngIf="isVideo">
        <video [src]="previewUrl" controls></video>
      </div>
      <div *ngIf="isPDF">
        <!-- 爪转 转转 专 -->
        <a 
          *ngIf="item?.coverImage" 
          [href]="previewUrl" 
          target="_blank" 
          rel="noopener noreferrer"
        >
          <img 
            [src]="item.coverImage" 
            [alt]="'Cover image for ' + (item?.title || 'document')" 
            class="document-cover-image" 
            style="cursor: pointer; max-width: 100%; height: auto;"
          >
        </a>
        <p>爪  注 专 爪转 住*</p>
      </div>
      
      
      
      <div *ngIf="isAudio">
        <!-- 爪转 转转 专 注 砖专 -->
        <img *ngIf="item?.coverImage" [src]="item.coverImage" [alt]="'Cover image for ' + (item?.title || 'audio')" id="audio-cover-image">
        <audio [src]="previewUrl" controls></audio>
      </div>
    </ng-container>
    <ng-template #noFile>
      <p>拽抓  拽</p>
    </ng-template>
  </div>

  <!-- 驻专 驻专 -->
  <div *ngIf="item" class="grid-item item-2 item-details">
    <h1>{{ item?.title || '' }}</h1>
    <p><strong>转专 驻专住:</strong> {{ item?.publicationDate || '' }}</p>
    <p><strong>砖:</strong> {{ item?.subject?.join(', ') || '' }}</p>
    <p><strong>:</strong> {{ item?.ages || '' }}</p>
    <p><strong>专:</strong> {{ item?.level || '' }}</p>
    <p><strong>砖驻:</strong> {{ item?.language || '' }}</p>
    <p><strong>砖转 爪 专:</strong> {{ item?.releaseYear || '' }}</p>
    <p><strong>专:</strong> {{ item?.author || '' }}</p>
    <p><strong>转专:</strong> {{ item?.description || '' }}</p>
    <p *ngIf="item?.tags?.length"><strong>转 注转:</strong> {{ item?.tags?.join(', ') }}</p>
  </div>

 <!-- 驻专  -->
<!-- <div class="grid-item item-3">
  <h2>驻专 </h2>
  <div class="similar-items">
    <div *ngFor="let similarItem of similarItems" class="similar-item" (click)="navigateToItem(similarItem._id)">
      <div class="image-container">
        <img 
          *ngIf="similarItem?.coverImage" 
          [src]="getCoverImageSimilarItem(similarItem)" 
          [alt]="similarItem?.title || 'Cover image not found'"
        >
        <svg 
          class="overlay-svg" 
          height="10vh" 
          viewBox="0 -960 960 960" 
          width="10vw" 
          fill="#434343"
        >
          <path d="M430-200q38 0 64-26t26-64v-150h120v-80H480v155q-11-8-23.5-11.5T430-380q-38 0-64 26t-26 64q0 38 26 64t64 26ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/>
        </svg>
      </div>
      <p *ngIf="!similarItem?.coverImage">拽抓  爪</p>
    </div>
  </div>
</div> -->

<!-- 驻专  -->
<div class="grid-item item-3">
  <h2>驻专 </h2>
  <div class="similar-items">
    <div *ngFor="let similarItem of similarItems" class="similar-item" (click)="navigateToItem(similarItem._id)">
      <div class="image-container">
        <!-- 转 -->
        <img 
          *ngIf="similarItem?.coverImage" 
          [src]="getCoverImageSimilarItem(similarItem)" 
          [alt]="similarItem?.title || 'Cover image not found'"
        >

        <!-- 拽 住住 住 -->
        <ng-container *ngIf="similarItem.type">
          <!-- 拽 转 -->
          <svg 
            *ngIf="similarItem.type === 'image'" 
            class="overlay-svg" 
            height="6vh" 
            viewBox="0 -960 960 960" 
            width="7vw" 
            fill="#434343"
            >
            <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm40-80h480L570-480 450-320l-90-120-120 160Zm-40 80v-560 560Z"/>
          </svg>
          <!-- 拽 砖注 -->
          <svg 
            *ngIf="similarItem.type === 'audio'" 
            class="overlay-svg" 
            height="6vh" 
            viewBox="0 -960 960 960" 
            width="7vw" 
            fill="#434343"
          >
            <path d="M430-200q38 0 64-26t26-64v-150h120v-80H480v155q-11-8-23.5-11.5T430-380q-38 0-64 26t-26 64q0 38 26 64t64 26ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/>
          </svg>

          <!-- 拽  -->
          <svg 
            *ngIf="similarItem.type === 'video'" 
            class="overlay-svg" 
            height="6vh" 
            viewBox="0 0 24 24" 
            width="7vw" 
            fill="#434343"
          >
            <path d="M8 5v14l11-7z"/>
          </svg>

          <!-- 拽 住 -->
          <svg 
            *ngIf="similarItem.type === 'document'" 
            class="overlay-svg" 
            height="6vh" 
            viewBox="0 0 24 24" 
            width="7vw" 
            fill="#434343"
          >
            <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
          </svg>
        </ng-container>
      </div>
      <p *ngIf="!similarItem?.coverImage">拽抓  爪</p>
    </div>
  </div>
</div>

</div>
